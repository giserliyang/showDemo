define(["./when-d186add7","./Rectangle-f841217d","./arrayRemoveDuplicates-74caa2f4","./BoundingRectangle-1d700ce8","./buildModuleUrl-d920237a","./Cartesian2-2b41fabe","./Cartographic-1d953166","./ComponentDatatype-07894a2b","./PolylineVolumeGeometryLibrary-33dc94e9","./Check-2514d21d","./GeometryAttribute-95780fd1","./GeometryAttributes-9c67dd14","./IndexDatatype-61ffec74","./Math-7f5f2992","./PolygonPipeline-6809c3ce","./FeatureDetection-4281d393","./Event-50568704","./RuntimeError-4a74cd1a","./WebGLConstants-8d1e45f7","./Cartesian4-3408960c","./EllipsoidTangentPlane-e12285fe","./IntersectionTests-300d4352","./Plane-d9914d3c","./PolylinePipeline-cea0bf86","./EllipsoidGeodesic-fc4b25bd","./EllipsoidRhumbLine-394d2834"],(function(e,t,i,n,o,r,a,s,p,l,c,d,u,h,y,f,g,v,_,m,P,k,w,E,D,L){"use strict";function b(i){var n=(i=e.u(i,e.u.EMPTY_OBJECT)).polylinePositions,o=i.shapePositions;if(!e.e(n))throw new l.t("options.polylinePositions is required.");if(!e.e(o))throw new l.t("options.shapePositions is required.");this._positions=n,this._shape=o,this._ellipsoid=t.t.clone(e.u(i.ellipsoid,t.t.WGS84)),this._cornerType=e.u(i.cornerType,p.S.ROUNDED),this._granularity=e.u(i.granularity,h.e.RADIANS_PER_DEGREE),this._workerName="createPolylineVolumeOutlineGeometry";var s=1+n.length*a.t.packedLength;s+=1+o.length*r.o.packedLength,this.packedLength=s+t.t.packedLength+2}b.pack=function(i,n,o){if(!e.e(i))throw new l.t("value is required");if(!e.e(n))throw new l.t("array is required");o=e.u(o,0);var s,p=i._positions,c=p.length;for(n[o++]=c,s=0;s<c;++s,o+=a.t.packedLength)a.t.pack(p[s],n,o);var d=i._shape;for(c=d.length,n[o++]=c,s=0;s<c;++s,o+=r.o.packedLength)r.o.pack(d[s],n,o);return t.t.pack(i._ellipsoid,n,o),o+=t.t.packedLength,n[o++]=i._cornerType,n[o]=i._granularity,n};var T=t.t.clone(t.t.UNIT_SPHERE),A={polylinePositions:void 0,shapePositions:void 0,ellipsoid:T,height:void 0,cornerType:void 0,granularity:void 0};b.unpack=function(i,n,o){if(!e.e(i))throw new l.t("array is required");n=e.u(n,0);var s,p=i[n++],c=new Array(p);for(s=0;s<p;++s,n+=a.t.packedLength)c[s]=a.t.unpack(i,n);p=i[n++];var d=new Array(p);for(s=0;s<p;++s,n+=r.o.packedLength)d[s]=r.o.unpack(i,n);var u=t.t.unpack(i,n,T);n+=t.t.packedLength;var h=i[n++],y=i[n];return e.e(o)?(o._positions=c,o._shape=d,o._ellipsoid=t.t.clone(u,o._ellipsoid),o._cornerType=h,o._granularity=y,o):(A.polylinePositions=c,A.shapePositions=d,A.cornerType=h,A.granularity=y,new b(A))};var C=new n.f;return b.createGeometry=function(e){var t=e._positions,r=i.D(t,a.t.equalsEpsilon),l=e._shape;if(l=p.J.removeDuplicatesFromShape(l),!(r.length<2||l.length<3)){y.A.computeWindingOrder2D(l)===y.W.CLOCKWISE&&l.reverse();var h=n.f.fromPoints(l,C);return function(e,t){var i=new d.a;i.position=new c.o({componentDatatype:s.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:e});var n,r,a=t.length,p=i.position.values.length/3,l=e.length/3/a,h=u.IndexDatatype.createTypedArray(p,2*a*(l+1)),y=0,g=(n=0)*a;for(r=0;r<a-1;r++)h[y++]=r+g,h[y++]=r+g+1;for(h[y++]=a-1+g,h[y++]=g,g=(n=l-1)*a,r=0;r<a-1;r++)h[y++]=r+g,h[y++]=r+g+1;for(h[y++]=a-1+g,h[y++]=g,n=0;n<l-1;n++){var v=a*n,_=v+a;for(r=0;r<a;r++)h[y++]=r+v,h[y++]=r+_}return new c.I({attributes:i,indices:u.IndexDatatype.createTypedArray(p,h),boundingSphere:o.i.fromVertices(e),primitiveType:f._0x12cc5d.LINES})}(p.J.computePositions(r,l,h,e,!1),l)}},function(i,n){return e.e(n)&&(i=b.unpack(i,n)),i._ellipsoid=t.t.clone(i._ellipsoid),b.createGeometry(i)}}));
